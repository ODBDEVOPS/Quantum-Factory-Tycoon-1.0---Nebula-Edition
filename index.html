<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quantum Factory Tycoon ‚Äî Nebula Command Center</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#02010a">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  width:100%;height:100%;overflow:hidden;
  background:#02010a;
  font-family:system-ui,Segoe UI,sans-serif;
  color:#e6ddff;
}

/* === COSMIC VOID === */
body::before{
  content:"";position:fixed;inset:0;z-index:-2;
  background:
    radial-gradient(circle at center, rgba(140,80,255,.18), transparent 40%),
    radial-gradient(circle at 30% 70%, rgba(0,255,200,.12), transparent 50%),
    radial-gradient(circle at center, #050014, #000 85%);
}

/* === CANVAS === */
#gameCanvas{position:fixed;inset:0}

/* === HUD === */
.hud{
  position:fixed;padding:10px 14px;border-radius:14px;
  background:linear-gradient(145deg,rgba(120,80,255,.15),rgba(20,0,60,.25));
  backdrop-filter:blur(20px);
  border:1px solid rgba(160,120,255,.4);
  box-shadow:0 0 30px rgba(120,80,255,.35);
  font-size:13px;
}
#tl{top:12px;left:12px}
#tr{top:12px;right:12px;text-align:right}
#bl{bottom:12px;left:12px}
#br{bottom:12px;right:12px}
.label{font-size:10px;opacity:.6}
.value{font-size:16px;font-weight:600;color:#e0d4ff}
</style>
</head>

<body>
<canvas id="gameCanvas"></canvas>

<div id="tl" class="hud">
  <div class="label">ESSENCES</div>
  <div class="value">üú® <span id="matter">0</span></div>
  <div class="value">üúÇ <span id="energy">0</span></div>
</div>
<div id="tr" class="hud">
  <div class="label">ASCENSION</div>
  <div class="value">NIV <span id="level">1</span></div>
</div>
<div id="bl" class="hud">
  <div class="label">COSMOS</div>
  <div class="value">‚è≥ <span id="time">0</span>s</div>
</div>
<div id="br" class="hud">
  <div class="label">INSTABILIT√â</div>
  <div class="value">‚òç <span id="entropy">0</span>%</div>
</div>

<script>
/* =========================================================
   === CANVAS ==============================================
========================================================= */
const canvas=document.getElementById("gameCanvas");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
addEventListener("resize",resize);resize();

/* =========================================================
   === CORE DATA ===========================================
========================================================= */
const CENTER={x:()=>canvas.width/2,y:()=>canvas.height/2};

const RES={
  matter:{t:0,r:0},
  energy:{t:0,r:0},
  entropy:0
};

const ORBITS=[
  {r:120,speed:0.4},
  {r:190,speed:0.3},
  {r:260,speed:0.22},
  {r:330,speed:0.16}
];

const RUNES={
  altar:{m:1,e:0,color:"#a18bff"},
  sigil:{m:0,e:2,color:"#00ffd5"}
};

const game={
  satellites:[],
  lvl:1,time:0,last:performance.now()
};

/* =========================================================
   === INPUT : SUMMON SATELLITE =============================
========================================================= */
canvas.addEventListener("click",()=>{
  const orbit=ORBITS[Math.floor(Math.random()*ORBITS.length)];
  const type=Math.random()<.5?"altar":"sigil";
  game.satellites.push({
    t:type,
    orbit,
    a:Math.random()*Math.PI*2,
    rot:Math.random()*Math.PI*2,
    pulse:Math.random()*Math.PI*2
  });
});

/* =========================================================
   === SIMULATION ==========================================
========================================================= */
function update(dt){
  RES.matter.r=0;RES.energy.r=0;

  game.satellites.forEach(s=>{
    const r=RUNES[s.t];
    RES.matter.r+=r.m;
    RES.energy.r+=r.e;

    const instability=1+RES.entropy/100;
    s.a+=dt*s.orbit.speed*instability;
    s.rot+=dt*(0.3+r.e*0.15+r.m*0.1);
    s.pulse+=dt*2;
  });

  RES.matter.t+=RES.matter.r*dt;
  RES.energy.t+=RES.energy.r*dt;
  RES.entropy=Math.min(100,RES.entropy+dt*game.satellites.length*0.025);
}

/* =========================================================
   === DRAW ================================================
========================================================= */
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  const cx=CENTER.x(),cy=CENTER.y();

  /* --- ORBITS --- */
  ctx.strokeStyle="rgba(180,140,255,.12)";
  ORBITS.forEach(o=>{
    ctx.beginPath();
    ctx.arc(cx,cy,o.r,0,Math.PI*2);
    ctx.stroke();
  });

  /* --- CORE --- */
  ctx.beginPath();
  ctx.arc(cx,cy,28,0,Math.PI*2);
  ctx.fillStyle="rgba(160,120,255,.25)";
  ctx.fill();
  ctx.shadowColor="#b090ff";
  ctx.shadowBlur=40;
  ctx.strokeStyle="#d0c0ff";
  ctx.stroke();
  ctx.shadowBlur=0;

  /* --- SATELLITES --- */
  game.satellites.forEach(s=>{
    const r=RUNES[s.t];
    const px=cx+Math.cos(s.a)*s.orbit.r;
    const py=cy+Math.sin(s.a)*s.orbit.r;
    const pulse=1+Math.sin(s.pulse)*0.12;
    const corruption=RES.entropy/100;

    ctx.save();
    ctx.translate(px,py);
    ctx.rotate(s.rot);

    ctx.strokeStyle=r.color;
    ctx.shadowColor=r.color;
    ctx.shadowBlur=25+corruption*35;
    ctx.lineWidth=2+corruption;

    ctx.beginPath();
    ctx.arc(0,0,14*pulse,0,Math.PI*2);
    ctx.stroke();

    ctx.restore();
  });
}

/* =========================================================
   === UI ================================================
========================================================= */
function ui(){
  matter.textContent=RES.matter.t.toFixed(1);
  energy.textContent=RES.energy.t.toFixed(1);
  entropy.textContent=RES.entropy.toFixed(0);
  level.textContent=game.lvl;
  time.textContent=game.time|0;
}

/* =========================================================
   === LOOP ================================================
========================================================= */
function loop(t){
  const dt=(t-game.last)/1000;
  game.last=t;game.time+=dt;
  update(dt);draw();ui();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
